<div class="card">
    <div class="card-header" >
        <h4>
            <span (click)='toogleCollapse()'>
                <small class="pull-right" class="fa fa-chevron-right" [class.hidden]="!collapse"></small>
                <small class="pull-right" class="fa fa-chevron-down" [class.hidden]="collapse"></small>
                {{this.period.name}} 
            </span>
            <small class="fa fa-plus pull-right" (click)='addOperation()'></small>
        </h4>
    </div>
    <div class="card-body" [class.hidden]="collapse">
        <div class="table-responsive">
            <table class="table table-sm table-striped">
                <tbody>
                    <tr *ngFor='let operation of period.operations'>
                        <td><i class="fa fa-trash-alt" (click)='deleteOperation(operation)'></i></td>
                        <td><input type="checkbox" [(ngModel)]="operation.checked" (input)="onChange(operation)"/></td>
                        <td><input type="date" [(ngModel)]="operation.date" (input)="onChange(operation)"/></td>
                        <td><input type="number" [(ngModel)]="operation.amount" [class.text-danger]="operation.amount < 0" [class.text-info]="operation.amount > 0" (keyup.enter)="onChange(operation)"/></td>
                        <td>
                            <span *ngFor='let tag of operation.tags' class="badge badge-pill" [ngClass]="getTagColor(tag)">
                                {{tag}} <i class="fa fa-times-circle" (click)='removeTag(operation, tag)'></i>
                            </span>
                            <input type="text" #tag (keyup.enter)="addTag(operation, tag.value); tag.value=''" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


